# social_network_system_design
Репозиторий с домашней работой по [курсу System Design](https://balun.courses/courses/system_design)

Домашняя работа представляет из себя проектирование социальной сети для путешественников.

Функциональные требования:
1. Регистрация участников сети и аутентификация 
2. Механизм создания/редактирования постов с загрузкой картинок, описания и геопозиции

Взаимодействие между участниками:
3. Подписка на публикации другого участника 
4. Формирование контентной ленты из постов участников, на которых текущий участник подписан 
5. Возможность оставления комментария и оценки постов других участников
6. Личные сообщения между участниками
7. Просмотр контентной ленты другого участника

Агрегатор:
8. Составление и выдача пользователям списка популярных мест для путешествий с 
разметкой и поиском по странам, городам
9. Выдача популярных постов из мест, указанных в предыдущем результате агрегации.

Нефункциональные требования:

- Dau - 10млн. Исходя из факторов сезонности и регулярности(люди чаще ездят в поездки
летом и не ездят в них каждую неделю в среднем) в пиковые дни это может быть x2 от этой оценки, т.е. 20млн.
Наша месячная аудитория будет сильно выше, поскольку большинство участников будет заходить к нам нерегулярно. 
Сделаем оценку в 300млн, учитывая данные прямого конкурента - tripadvisor(dau и mau 5.3 и 162 миллиона соответственно). 
mau.
- Один пользователь в среднем открывает 10 страниц, на каждой из которых выполняется 3-4 запроса к бэкенду - 
достать ленту пользователя(самое частое), прогрузить конкретный пост с комментариями, прогрузить профиль другого 
пользователя, опубликовать пост(самое редкое).
Наша аппроксимирующая оценка - 40 * 20.000.000= 800.000.000 запросов в день -> 9260 rps
- Предположим что средний размер запроса составляет 400 байт.
- Трафик: 9260 rps * 400 / 10^8 = 3,8МБ/с
- Среднее число соединений: 20.000.000 * 0.1 = 2.000.000
- Аудитория будет только из стран СНГ
- Перед праздниками, новогодними каникулами и в летний сезон аудитория будет значительно выше, ожидается 
сезонность аудитории, основываясь на данных конкурента, аудитория в пиковые месяцы dau будет почти в 2 раза выше,
mau в 1.5 раза. 
- По функциональным задачам приложения предполагается бессрочное хранение данных
- Предполагается ограничение в несколько секунд на публикацию поста, несколько минут на появление его в ленте
других пользователей и ограничение менее чем в секунду на выполнение основных запросов на чтение(в том числе 
подтягивание ленты и топа стран/мест для путешествий)
- Допустимый даунтайм приложения - несколько часов в год.


